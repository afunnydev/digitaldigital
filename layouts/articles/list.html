{{- define "main" -}}
<div id="articles-hero">
    <div class="container">
        <div class="row middle-xs">
            <div class="col-md-10">
                <h1 class="home">{{- .Params.h1 -}}</h1>
            </div>
        </div>
    </div>
</div>

<div class="articles-list section first">
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                <h6>Featured</h6>
            </div>
            {{- range first 2 (where .Pages "Params.external" true) -}}
            {{- partial "site/articlecard" (dict "context" . "img" .Params.listing.img "description" .Params.listing.description "url" .Params.canonical "class" "col-xs-12 col-md-6") -}}
            {{- end -}}
        </div>
    </div>
</div>

<div class="articles-list section">
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                <h6>All Articles</h6>
            </div>
            {{- range where .Pages "Params.external" false -}}
            {{- partial "site/articlecard" (dict "context" . "img" .Params.listing.img "description" .Params.listing.description "url" .Permalink "class" "col-xs-12 col-sm-6 col-md-4") -}}
            {{- end -}}
        </div>
    </div>
</div>
{{- end -}}